(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{703:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(7876),i=r(5500),s=r(9390),l=r(9794),a=r(2487),o=r(8230),c=r.n(o);function d(){return(0,n.jsx)(i.A,{position:"static",color:"primary",children:(0,n.jsxs)(s.A,{children:[(0,n.jsx)("img",{src:"/norrskensleder/logo.svg",alt:"norrskensleder logo",style:{height:36,marginRight:12,borderRadius:6}}),(0,n.jsx)(l.A,{variant:"h6",sx:{flexGrow:1},children:(0,n.jsx)(c(),{href:"/",style:{color:"#fff",textDecoration:"none"},children:"Norrskensleder"})}),(0,n.jsx)(a.A,{color:"inherit",component:c(),href:"/blog",children:"Blog"}),(0,n.jsx)(a.A,{color:"inherit",component:c(),href:"/about",children:"About"}),(0,n.jsx)(a.A,{color:"inherit",component:c(),href:"/contact",children:"Contact"})]})})}},3978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__N_SSG:()=>w,default:()=>A});var n=r(7876),i=r(7764),s=r(9794),l=r(4113),a=r(703),o=r(6790),c=r(7328),d=r.n(c),u=r(4232),x=r(1205),h=r(7712),m=r(3933);function g(e){let{images:t}=e,[r,i]=(0,u.useState)(!1),[s,l]=(0,u.useState)(0),a=t.map(e=>({src:e.src,description:e.alt}));return(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:16,margin:"16px 0",width:"100%"},children:[t.map((e,t)=>(0,n.jsxs)("div",{style:{width:"100%"},children:[(0,n.jsx)("img",{src:e.src,alt:e.alt,style:{width:"100%",aspectRatio:"3/2",objectFit:"cover",cursor:"pointer",borderRadius:8,boxShadow:"0 2px 16px #00336622",background:"#eee",display:"block"},onClick:()=>{i(!0),l(t)}}),e.alt&&(0,n.jsx)("div",{style:{textAlign:"center",fontSize:14,color:"#555",marginTop:4},children:e.alt})]},e.src)),(0,n.jsx)(m.Ay,{open:r,close:()=>i(!1),slides:a,index:s,on:{view:e=>{let{index:t}=e;return l(t)}},render:{description:e=>{let{description:t}=e;return t&&(0,n.jsx)("div",{style:{textAlign:"center",marginTop:8,color:"#fff",fontSize:16},children:t})}}})]})}r(9986);var p=r(6042),f=r(2964);let j=(0,p.Dk)().length?(0,p.Dk)()[0]:(0,p.Wp)({apiKey:"AIzaSyCPcfUYxD4RW3SI0LvsF_9NaSzCy98BahM",authDomain:"norrskensleder-blog.firebaseapp.com",projectId:"norrskensleder-blog",storageBucket:"norrskensleder-blog.firebasestorage.app",messagingSenderId:"380176904436",appId:"1:380176904436:web:ef9b7ff8ee2317be9caea1",measurementId:"G-F04L0DMFCB"}),y=(0,f.aU)(j);function b(e){let t=new Date().toISOString().slice(0,10);return"voted_".concat(e,"_").concat(t)}function k(e){let{slug:t}=e,[r,i]=(0,u.useState)({like:0,dislike:0}),[s,l]=(0,u.useState)(!0),[a,o]=(0,u.useState)(!1);async function c(e){if(a)return;let r=(0,f.H9)(y,"likes",t);await (0,f.BN)(r,{like:0,dislike:0},{merge:!0}),await (0,f.mZ)(r,{[e]:(0,f.GV)(1)}),i((await (0,f.x7)(r)).data()),localStorage.setItem(b(t),"1"),o(!0)}return((0,u.useEffect)(()=>{(async function(){let e=(0,f.H9)(y,"likes",t),r=await (0,f.x7)(e);r.exists()&&i(r.data()),l(!1)})(),o(!!localStorage.getItem(b(t)))},[t]),s)?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsxs)("div",{style:{margin:"2em 0",textAlign:"center"},children:[(0,n.jsxs)("button",{onClick:()=>c("like"),disabled:a,children:["\uD83D\uDC4D ",r.like]}),(0,n.jsxs)("button",{onClick:()=>c("dislike"),disabled:a,style:{marginLeft:16},children:["\uD83D\uDC4E ",r.dislike]}),a&&(0,n.jsx)("div",{style:{marginTop:8,color:"#888"},children:"You already voted today."})]})}function v(e){let{slug:t}=e,[r,i]=(0,u.useState)([]),[s,l]=(0,u.useState)(""),[a,o]=(0,u.useState)(""),[c,d]=(0,u.useState)(!0);async function x(e){e.preventDefault(),s.trim()&&a.trim()&&(await (0,f.gS)((0,f.rJ)(y,"comments",t,"items"),{name:s.trim(),text:a.trim(),created:Date.now()}),o(""))}return(0,u.useEffect)(()=>{let e=(0,f.P)((0,f.rJ)(y,"comments",t,"items"),(0,f.My)("created","asc")),r=(0,f.aQ)(e,e=>{i(e.docs.map(e=>e.data())),d(!1)});return()=>r()},[t]),(0,n.jsxs)("div",{style:{margin:"2em 0",maxWidth:600},children:[(0,n.jsx)("h3",{children:"Comments"}),(0,n.jsxs)("form",{onSubmit:x,style:{marginBottom:16},children:[(0,n.jsx)("input",{value:s,onChange:e=>l(e.target.value),placeholder:"Your name",style:{marginRight:8,padding:4}}),(0,n.jsx)("input",{value:a,onChange:e=>o(e.target.value),placeholder:"Your comment",style:{width:300,padding:4}}),(0,n.jsx)("button",{type:"submit",style:{marginLeft:8},children:"Post"})]}),c?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsx)("ul",{style:{listStyle:"none",padding:0},children:r.map((e,t)=>(0,n.jsxs)("li",{style:{marginBottom:12,background:"#f5f5f5",padding:8,borderRadius:6},children:[(0,n.jsx)("b",{children:e.name}),": ",e.text]},t))})]})}var w=!0;function A(e){let{post:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d(),{children:(0,n.jsxs)("title",{children:[t.title," | Norrskensleder"]})}),(0,n.jsx)(a.A,{}),(0,n.jsxs)(i.A,{maxWidth:"md",sx:{mt:4},children:[(0,n.jsx)(s.A,{variant:"h3",gutterBottom:!0,children:t.title}),(0,n.jsx)(s.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:t.date}),t.coverImage&&(0,n.jsx)(l.A,{sx:{my:2,textAlign:"center"},children:(0,n.jsx)("img",{src:t.coverImage,alt:t.title,style:{maxWidth:"100%",height:"auto",borderRadius:8,boxShadow:"0 2px 16px #00336622"}})}),t.youtube&&(0,n.jsx)(l.A,{sx:{my:2},children:(0,n.jsx)("iframe",{width:"100%",height:"400",src:t.youtube.replace("watch?v=","embed/"),title:"YouTube video",frameBorder:"0",allowFullScreen:!0})}),t.tags&&(0,n.jsx)(l.A,{sx:{mb:2},children:t.tags.map(e=>(0,n.jsx)("a",{href:"/tag/".concat(e),style:{display:"inline-block",marginRight:8,padding:"4px 12px",background:"#e0e0e0",borderRadius:16,textDecoration:"none",color:"#333",fontSize:14},children:e},e))}),(0,n.jsx)(l.A,{sx:{mt:2},children:(0,n.jsx)(S,{content:t.content})}),(0,n.jsx)(l.A,{sx:{mt:4},children:(0,n.jsx)(k,{slug:t.slug})}),(0,n.jsx)(l.A,{sx:{mt:4},children:(0,n.jsx)(v,{slug:t.slug})})]}),(0,n.jsx)(o.A,{})]})}function S(e){let{content:t}=e,r=t.split(/<!--gallery-->/g),i=/^!\[(.*)\]\((.*)\)$/,s=e=>{let{src:t,alt:r}=e;return(0,n.jsx)("img",{src:t,alt:r,style:{maxWidth:"100%",height:"auto",borderRadius:8,boxShadow:"0 2px 16px #00336622",margin:"16px 0"}})},l=e=>{let{href:t,children:r}=e,i=t.match(/^https?:\/\/(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/);if(i){let e=i[3];return(0,n.jsx)("iframe",{width:"100%",height:"400",src:"https://www.youtube.com/embed/".concat(e),title:"YouTube video",frameBorder:"0",allowFullScreen:!0,style:{display:"block",margin:"24px 0"}})}return(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:r})},a=e=>{var t;let{node:r,children:i}=e;return Array.isArray(i)&&1===i.length&&(null==(t=i[0])?void 0:t.type)==="iframe"?i:(0,n.jsx)("p",{children:i})};return(0,n.jsx)(n.Fragment,{children:r.map((e,t)=>{let r=e.trim().split("\n").filter(Boolean),o=r.map(e=>{let t=e.match(i);return t?{src:t[2],alt:t[1]}:null}).filter(Boolean);return o.length>=2&&o.length===r.length&&r.length>0?(0,n.jsx)(g,{images:o},t):(0,n.jsx)(x.oz,{remarkPlugins:[h.A],components:{img:s,a:l,p:a},children:e},t)})})}},6790:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(7876),i=r(4113),s=r(9794);function l(){return(0,n.jsx)(i.A,{sx:{mt:8,py:3,textAlign:"center",bgcolor:"background.paper"},children:(0,n.jsxs)(s.A,{variant:"body2",color:"text.secondary",children:["\xa9 ",new Date().getFullYear()," Norrskensleder"]})})}},7484:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[slug]",function(){return r(3978)}])}},e=>{e.O(0,[659,740,782,636,593,792],()=>e(e.s=7484)),_N_E=e.O()}]);